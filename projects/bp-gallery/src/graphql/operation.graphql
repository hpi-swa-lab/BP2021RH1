query getPictureInfo($pictureId: ID!) {
  picture(id: $pictureId) {
    data {
      id
      attributes {
        descriptions(sort: "createdAt:desc") {
          data {
            id
            attributes {
              text
            }
          }
        }
        time_range_tag {
          data {
            id
            attributes {
              start
              end
            }
          }
        }
        verified_time_range_tag {
          data {
            id
            attributes {
              start
              end
            }
          }
        }
        keyword_tags(sort: "updatedAt:asc") {
          data {
            id
            attributes {
              name
              updatedAt
            }
          }
        }
        verified_keyword_tags(sort: "updatedAt:asc") {
          data {
            id
            attributes {
              name
              updatedAt
            }
          }
        }
        location_tags(sort: "updatedAt:asc") {
          data {
            id
            attributes {
              name
              updatedAt
            }
          }
        }
        verified_location_tags(sort: "updatedAt:asc") {
          data {
            id
            attributes {
              name
              updatedAt
            }
          }
        }
        person_tags(sort: "updatedAt:asc") {
          data {
            id
            attributes {
              name
              updatedAt
            }
          }
        }
        verified_person_tags(sort: "updatedAt:asc") {
          data {
            id
            attributes {
              name
              updatedAt
            }
          }
        }
        collections {
          data {
            id
            attributes {
              name
            }
          }
        }
        media {
          data {
            id
            attributes {
              url
              updatedAt
            }
          }
        }
        comments(publicationState: PREVIEW, sort: "date:asc") {
          data {
            id
            attributes {
              text
              author
              date
              publishedAt
            }
          }
        }
      }
    }
  }
}

query getPictures($filters: PictureFiltersInput!, $pagination: PaginationArg!) {
  pictures(filters: $filters, pagination: $pagination, sort: "publishedAt:asc") {
    data {
      id
      attributes {
        media {
          data {
            id
            attributes {
              width
              height
              formats
              updatedAt
            }
          }
        }
      }
    }
  }
}

query getCollectionWithPicturesPublishedAfter($date: DateTime!) {
  collections(filters: { pictures: { publishedAt: { gt: $date } } }) {
    data {
      id
    }
  }
}

query getCollectionInfoByName($collectionName: String) {
  collections(filters: { name: { eq: $collectionName } }) {
    data {
      id
      attributes {
        name
        description
        child_collections(sort: "name:asc") {
          data {
            id
            attributes {
              name
              thumbnail
            }
          }
        }
      }
    }
  }
}

query getCollectionInfoById($collectionId: ID!) {
  collection(id: $collectionId) {
    data {
      id
      attributes {
        name
        description
        child_collections(sort: "name:asc") {
          data {
            id
            attributes {
              name
              pictures(pagination: { limit: 1 }) {
                data {
                  id
                }
              }
              child_collections(pagination: { limit: 1 }) {
                data {
                  id
                }
              }
              parent_collections {
                data {
                  id
                  attributes {
                    name
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

query getRootCollection {
  browseRootCollection {
    data {
      attributes {
        current {
          data {
            id
            attributes {
              name
            }
          }
        }
      }
    }
  }
}

mutation postComment($id: ID!, $author: String!, $text: String!, $date: DateTime!) {
  createComment(
    data: { author: $author, text: $text, date: $date, picture: $id, publishedAt: null }
  ) {
    data {
      attributes {
        text
      }
    }
  }
}

query getKeywordTagSuggestions($name: String) {
  keywordTags(filters: { name: { containsi: $name } }) {
    data {
      id
      attributes {
        name
        thumbnail: pictures(pagination: { limit: 1 }) {
          data {
            attributes {
              media {
                data {
                  attributes {
                    formats
                  }
                }
              }
            }
          }
        }
        verified_thumbnail: verified_pictures(pagination: { limit: 1 }) {
          data {
            attributes {
              media {
                data {
                  attributes {
                    formats
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

query getAllKeywordTags {
  keywordTags {
    data {
      id
      attributes {
        name
        synonyms {
          name
        }
      }
    }
  }
}

mutation updateKeywordName($tagId: ID!, $name: String!) {
  updateKeywordTag(id: $tagId, data: { name: $name }) {
    data {
      id
    }
  }
}

mutation updateKeywordSynonyms($tagId: ID!, $synonyms: [ComponentCommonSynonymsInput]!) {
  updateKeywordTag(id: $tagId, data: { synonyms: $synonyms }) {
    data {
      id
    }
  }
}

query getAllLocationTags {
  locationTags {
    data {
      id
      attributes {
        name
        synonyms {
          name
        }
      }
    }
  }
}

mutation updateLocationName($tagId: ID!, $name: String!) {
  updateLocationTag(id: $tagId, data: { name: $name }) {
    data {
      id
    }
  }
}

mutation updateLocationSynonyms($tagId: ID!, $synonyms: [ComponentCommonSynonymsInput]!) {
  updateLocationTag(id: $tagId, data: { synonyms: $synonyms }) {
    data {
      id
    }
  }
}

query getAllPersonTags {
  personTags {
    data {
      id
      attributes {
        name
        synonyms {
          name
        }
      }
    }
  }
}

mutation updatePersonName($tagId: ID!, $name: String!) {
  updatePersonTag(id: $tagId, data: { name: $name }) {
    data {
      id
    }
  }
}

mutation updatePersonSynonyms($tagId: ID!, $synonyms: [ComponentCommonSynonymsInput]!) {
  updatePersonTag(id: $tagId, data: { synonyms: $synonyms }) {
    data {
      id
    }
  }
}

query getAllCollections {
  collections {
    data {
      id
      attributes {
        name
        parent_collections {
          data {
            id
            attributes {
              name
            }
          }
        }
      }
    }
  }
}

query getDecadePreviewThumbnails {
  s40: pictures(
    filters: {
      or: [
        {
          time_range_tag: {
            start: { gte: "1900-01-01T00:00:00Z" }
            end: { lte: "1949-12-31T23:59:59Z" }
          }
        }
        {
          verified_time_range_tag: {
            start: { gte: "1900-01-01T00:00:00Z" }
            end: { lte: "1949-12-31T23:59:59Z" }
          }
        }
      ]
    }
    pagination: { limit: 1 }
  ) {
    data {
      attributes {
        media {
          data {
            attributes {
              formats
            }
          }
        }
      }
    }
  }
  s50: pictures(
    filters: {
      or: [
        {
          time_range_tag: {
            start: { gte: "1950-01-01T00:00:00Z" }
            end: { lte: "1959-12-31T23:59:59Z" }
          }
        }
        {
          verified_time_range_tag: {
            start: { gte: "1950-01-01T00:00:00Z" }
            end: { lte: "1959-12-31T23:59:59Z" }
          }
        }
      ]
    }
    pagination: { limit: 1 }
  ) {
    data {
      attributes {
        media {
          data {
            attributes {
              formats
            }
          }
        }
      }
    }
  }
  s60: pictures(
    filters: {
      or: [
        {
          time_range_tag: {
            start: { gte: "1960-01-01T00:00:00Z" }
            end: { lte: "1969-12-31T23:59:59Z" }
          }
        }
        {
          verified_time_range_tag: {
            start: { gte: "1960-01-01T00:00:00Z" }
            end: { lte: "1969-12-31T23:59:59Z" }
          }
        }
      ]
    }
    pagination: { limit: 1 }
  ) {
    data {
      attributes {
        media {
          data {
            attributes {
              formats
            }
          }
        }
      }
    }
  }
  s70: pictures(
    filters: {
      or: [
        {
          time_range_tag: {
            start: { gte: "1970-01-01T00:00:00Z" }
            end: { lte: "1979-12-31T23:59:59Z" }
          }
        }
        {
          verified_time_range_tag: {
            start: { gte: "1970-01-01T00:00:00Z" }
            end: { lte: "1979-12-31T23:59:59Z" }
          }
        }
      ]
    }
    pagination: { limit: 1 }
  ) {
    data {
      attributes {
        media {
          data {
            attributes {
              formats
            }
          }
        }
      }
    }
  }
  s80: pictures(
    filters: {
      or: [
        {
          time_range_tag: {
            start: { gte: "1980-01-01T00:00:00Z" }
            end: { lte: "1989-12-31T23:59:59Z" }
          }
        }
        {
          verified_time_range_tag: {
            start: { gte: "1980-01-01T00:00:00Z" }
            end: { lte: "1989-12-31T23:59:59Z" }
          }
        }
      ]
    }
    pagination: { limit: 1 }
  ) {
    data {
      attributes {
        media {
          data {
            attributes {
              formats
            }
          }
        }
      }
    }
  }
  s90: pictures(
    filters: {
      or: [
        {
          time_range_tag: {
            start: { gte: "1990-01-01T00:00:00Z" }
            end: { lte: "1999-12-31T23:59:59Z" }
          }
        }
        {
          verified_time_range_tag: {
            start: { gte: "1990-01-01T00:00:00Z" }
            end: { lte: "1999-12-31T23:59:59Z" }
          }
        }
      ]
    }
    pagination: { limit: 1 }
  ) {
    data {
      attributes {
        media {
          data {
            attributes {
              formats
            }
          }
        }
      }
    }
  }
}

mutation login($username: String!, $password: String!) {
  login(input: { identifier: $username, password: $password }) {
    jwt
  }
}

mutation createPersonTag($name: String!) {
  createPersonTag(data: { name: $name }) {
    data {
      id
    }
  }
}

mutation createKeywordTag($name: String!) {
  createKeywordTag(data: { name: $name }) {
    data {
      id
    }
  }
}

mutation createLocationTag($name: String!) {
  createLocationTag(data: { name: $name }) {
    data {
      id
    }
  }
}

mutation createSubCollection($name: String!, $parentId: ID!, $publishedAt: DateTime!) {
  createCollection(
    data: { name: $name, parent_collections: [$parentId], publishedAt: $publishedAt }
  ) {
    data {
      id
    }
  }
}

mutation updatePicture($pictureId: ID!, $data: PictureInput!) {
  updatePicture(id: $pictureId, data: $data) {
    data {
      id
    }
  }
}

mutation createPicture($data: PictureInput!) {
  createPicture(data: $data) {
    data {
      id
    }
  }
}

mutation unpublishPicture($id: ID!) {
  updatePicture(id: $id, data: { publishedAt: null }) {
    data {
      id
    }
  }
}

query getPicturesForCollection($collectionId: ID!) {
  collection(id: $collectionId) {
    data {
      id
      attributes {
        pictures {
          data {
            id
          }
        }
      }
    }
  }
}

mutation setPicturesForCollection($pictureIds: [ID]!, $collectionId: ID!) {
  updateCollection(id: $collectionId, data: { pictures: $pictureIds }) {
    data {
      id
    }
  }
}

mutation updateCollection($collectionId: ID!, $data: CollectionInput!) {
  updateCollection(id: $collectionId, data: $data) {
    data {
      id
    }
  }
}

query getUnverifiedComments {
  comments(filters: { publishedAt: { null: true } }, publicationState: PREVIEW) {
    data {
      id
      attributes {
        picture {
          data {
            id
            attributes {
              media {
                data {
                  id
                  attributes {
                    width
                    height
                    formats
                    updatedAt
                  }
                }
              }
            }
          }
        }
        text
        author
      }
    }
  }
}

mutation acceptComment($commentId: ID!, $currentTime: DateTime!) {
  updateComment(id: $commentId, data: { publishedAt: $currentTime }) {
    data {
      id
    }
  }
}

mutation declineComment($commentId: ID!) {
  deleteComment(id: $commentId) {
    data {
      id
    }
  }
}

mutation deleteCollection($collectionId: ID!) {
  deleteCollection(id: $collectionId) {
    data {
      id
    }
  }
}

mutation mergeCollections($targetId: ID!, $sourceId: ID!) {
  mergeCollections(targetId: $targetId, sourceId: $sourceId)
}

query me {
  me {
    role {
      name
    }
    username
    email
  }
}
